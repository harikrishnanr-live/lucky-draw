<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UKBR 2025 Lucky Draw - Admin Login</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    body {
      /*background-image: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(99, 102, 241, 0.1) 100%), url('login.jpg');*/
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      display: flex;
      flex-direction: column;
      justify-content: center; /* Center vertically */
      align-items: center; /* Center horizontally */
      min-height: 100vh; /* Ensure body takes full height */
      margin: 0; /* Remove default margin */
    }
    
    .login-container {
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.95);
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
      width: 100%; /* Full width for responsiveness */
      max-width: 400px; /* Set a max width for the login box */
      padding: 2rem; /* Add padding for better spacing */
      border-radius: 1rem; /* Rounded corners */
    }
    
    .input-group {
      position: relative;
    }
    
    .input-field {
      transition: all 0.3s ease;
    }
    
    .input-field:focus {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
    }
    
    .login-btn {
      background: linear-gradient(135deg, #3b82f6 0%, #6366f1 100%);
      transition: all 0.3s ease;
    }
    
    .login-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
    }
    
    .login-btn:active {
      transform: translateY(0);
    }
    
    .login-btn:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
    }
    
    .error-shake {
      animation: shake 0.5s ease-in-out;
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeIn 0.6s ease-out forwards;
    }
    
    @keyframes fadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .loading-spinner {
      border: 2px solid #f3f4f6;
      border-top: 2px solid #3b82f6;
      border-radius: 50%;
      width: 16px;
      height: 16px;
      animation: spin 1s linear infinite;
      display: inline-block;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Footer Styles */
    .footer {
      background-color: #5727a6;
      padding: 20px;
      text-align: center;
      border-top: 1px solid rgba(0, 0, 0, 0.1);
      position: relative; /* Change to relative */
      bottom: 0; /* Align to the bottom */
      left: 0; /* Align to the left */
      right: 0; /* Align to the right */
      width: 100%; /* Full width */
      z-index: 10; /* Ensure it stays above other content */
    }

    .footer p {
      margin: 0;
      color: white;
      font-size: 0.875rem;
    }

    .footer a {
      color: #3b82f6;
      text-decoration: none;
    }
  </style>
</head>
<body>
  
  <!-- Background overlay -->
  <div class="absolute inset-0 bg-gradient-to-br from-blue-900/20 to-indigo-900/20"></div>
  
  <div class="relative z-10 w-full max-w-md mx-auto">
    <div class="login-container rounded-2xl p-8 fade-in">
      
      <!-- Header -->
      <div class="text-center mb-8">
        <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-full mb-4">
          <img src="./ukbc_logo.jpeg" alt="Logo" class="w-full h-full object-cover rounded-full" />
        </div>
        <h1 class="text-2xl font-bold text-gray-800 mb-2">
          Admin Login
        </h1>
        <p class="text-gray-600 text-sm">
          Lucky Draw 2025
        </p>
      </div>
      
      <!-- Login Form -->
      <form id="loginForm" class="space-y-6">
        
        <!-- Username Field -->
        <div class="input-group">
          <label for="username" class="block text-sm font-semibold text-gray-700 mb-2">
            <i class="fas fa-user mr-2 text-blue-600"></i>
            Username
          </label>
          <input
            type="text"
            id="username"
            name="username"
            placeholder="admin"
            class="input-field w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
            autocomplete="username"
            required
          />
          <div id="usernameError" class="text-red-500 text-xs mt-1 hidden">
            <i class="fas fa-exclamation-circle mr-1"></i>
            Username is required
          </div>
        </div>
        
        <!-- Password Field -->
        <div class="input-group">
          <label for="password" class="block text-sm font-semibold text-gray-700 mb-2">
            <i class="fas fa-lock mr-2 text-blue-600"></i>
            Password
          </label>
          <div class="relative">
            <input
              type="password"
              id="password"
              name="password"
              placeholder="admin"
              class="input-field w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
              autocomplete="current-password"
              required
            />
            <button
              type="button"
              id="togglePassword"
              class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-blue-600 transition-colors duration-200"
            >
              <i class="fas fa-eye" id="eyeIcon"></i>
            </button>
          </div>
          <div id="passwordError" class="text-red-500 text-xs mt-1 hidden">
            <i class="fas fa-exclamation-circle mr-1"></i>
            Password is required
          </div>
        </div>
        
        <!-- Error Message -->
        <div id="loginError" class="text-red-500 text-sm p-3 bg-red-50 border border-red-200 rounded-lg hidden">
          <i class="fas fa-exclamation-triangle mr-2"></i>
          Invalid username or password. Please try again.
        </div>
        
        <!-- Login Button -->
        <button
          type="submit"
          id="loginBtn"
          class="login-btn w-full text-white py-3 px-6 rounded-lg font-semibold text-sm uppercase tracking-wide"
        >
          <span id="loginBtnText">
            <i class="fas fa-sign-in-alt mr-2"></i>
            Sign In
          </span>
          <span id="loginBtnLoading" class="hidden">
            <span class="loading-spinner mr-2"></span>
            Authenticating...
          </span>
        </button>
        
      </form>
      
      <!-- Footer -->
      <div class="mt-8 text-center">
        <p class="text-xs text-gray-500">
          <i class="fas fa-shield-alt mr-1"></i>
          Secure Admin Access Only
        </p>
      </div>
      
    </div>
  </div>

  <!-- Footer Section -->
  <!-- <footer class="footer">
    <p>Designed and Developed by <strong>Susan</strong> (9847847135) and <strong>Harikrishnan</strong> (9061002008, <a href="mailto:harikrishnanrlive@gmail.com">harikrishnanrlive@gmail.com</a>) and Team</p>
  </footer> -->
  
  <!-- Scripts -->
  <script>
    // DOM Elements
    const loginForm = document.getElementById("loginForm");
    const usernameInput = document.getElementById("username");
    const passwordInput = document.getElementById("password");
    const togglePasswordBtn = document.getElementById("togglePassword");
    const eyeIcon = document.getElementById("eyeIcon");
    const loginBtn = document.getElementById("loginBtn");
    const loginBtnText = document.getElementById("loginBtnText");
    const loginBtnLoading = document.getElementById("loginBtnLoading");
    
    // Error elements
    const usernameError = document.getElementById("usernameError");
    const passwordError = document.getElementById("passwordError");
    const loginError = document.getElementById("loginError");
    
    // Clear all error messages
    function clearErrors() {
      usernameError.classList.add("hidden");
      passwordError.classList.add("hidden");
      loginError.classList.add("hidden");
      
      // Remove error styling
      usernameInput.classList.remove("border-red-500", "error-shake");
      passwordInput.classList.remove("border-red-500", "error-shake");
    }
    
    // Show specific error
    function showError(element, errorDiv) {
      errorDiv.classList.remove("hidden");
      element.classList.add("border-red-500", "error-shake");
      element.focus();
      
      // Remove shake animation after completion
      setTimeout(() => {
        element.classList.remove("error-shake");
      }, 500);
    }
    
    // Toggle password visibility
    function togglePassword() {
      const type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
      passwordInput.setAttribute("type", type);
      
      // Toggle eye icon
      if (type === "password") {
        eyeIcon.classList.remove("fa-eye-slash");
        eyeIcon.classList.add("fa-eye");
      } else {
        eyeIcon.classList.remove("fa-eye");
        eyeIcon.classList.add("fa-eye-slash");
      }
    }
    
    // Show loading state
    function showLoading() {
      loginBtn.disabled = true;
      loginBtnText.classList.add("hidden");
      loginBtnLoading.classList.remove("hidden");
    }
    
    // Hide loading state
    function hideLoading() {
      loginBtn.disabled = false;
      loginBtnText.classList.remove("hidden");
      loginBtnLoading.classList.add("hidden");
    }
    
    // Validate form
    function validateForm() {
      clearErrors();
      
      const username = usernameInput.value.trim();
      const password = passwordInput.value.trim();
      let isValid = true;
      
      if (!username) {
        showError(usernameInput, usernameError);
        isValid = false;
      }
      
      if (!password) {
        showError(passwordInput, passwordError);
        isValid = false;
      }
      
      return isValid;
    }
    
    // Login function
    async function login() {
      if (!validateForm()) {
        return;
      }
      
      const username = usernameInput.value.trim();
      const password = passwordInput.value.trim();
      
      // Show loading state
      showLoading();
      
      try {
        // Simulate API call delay for better UX
        await new Promise(resolve => setTimeout(resolve, 800));
        
        // Check credentials
        if (username === "admin" && password === "admin@123") {
          // Store user session with expiration time
          const loginTime = new Date().toISOString();
          const expirationTime = new Date(Date.now() + 60 * 60 * 1000).toISOString(); // 1 hour from now
          
          localStorage.setItem("user", username);
          localStorage.setItem("loginTime", loginTime);
          localStorage.setItem("expirationTime", expirationTime);
          
          // Success feedback
          loginBtnText.innerHTML = '<i class="fas fa-check mr-2"></i>Success!';
          loginBtn.classList.add("bg-green-600");
          
          // Redirect after short delay
          setTimeout(() => {
            window.location.href = "upload-prize.html";
          }, 1000);
          
        } else {
          // Show error
          hideLoading();
          loginError.classList.remove("hidden");
          
          // Clear form
          passwordInput.value = "";
          usernameInput.focus();
        }
        
      } catch (error) {
        hideLoading();
        loginError.textContent = "An error occurred. Please try again.";
        loginError.classList.remove("hidden");
      }
    }
    
    // Event Listeners
    loginForm.addEventListener("submit", (e) => {
      e.preventDefault();
      login();
    });
    
    togglePasswordBtn.addEventListener("click", togglePassword);
    
    // Clear errors on input
    usernameInput.addEventListener("input", clearErrors);
    passwordInput.addEventListener("input", clearErrors);
    
    // Enter key support (already handled by form submit)
    // Additional support for individual fields
    usernameInput.addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        if (usernameInput.value.trim()) {
          passwordInput.focus();
        }
      }
    });
    
    passwordInput.addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        login();
      }
    });
    
    // Focus management
    // Check if user is already logged in and session is valid
    document.addEventListener("DOMContentLoaded", () => {
      const expirationTime = localStorage.getItem("expirationTime");
      const currentTime = new Date().toISOString();
      
      if (localStorage.getItem("user") && expirationTime && new Date(currentTime) < new Date(expirationTime)) {
        // Optional: redirect to dashboard if already logged in and session is valid
        window.location.href = "upload-prize.html";
      } else {
        // Clear session if expired
        localStorage.removeItem("user");
        localStorage.removeItem("loginTime");
        localStorage.removeItem("expirationTime");
      }
    });
    
    // Check if user is already logged in
    if (localStorage.getItem("user")) {
      // Optional: redirect to dashboard if already logged in
      // window.location.href = "upload-prize.html";
    }
  </script>
</body>
</html>
